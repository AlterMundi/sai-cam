# SAI-CAM Log Rotation Configuration

/var/log/sai-cam/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 644 admin admin
    size 50M
    
    postrotate
        # Signal any running services if needed
        systemctl reload sai-cam 2>/dev/null || true
    endscript
}

# Rotate camera storage logs
/opt/sai-cam/storage/logs/*.log {
    weekly
    rotate 4
    compress
    delaycompress
    missingok
    notifempty
    create 644 admin admin
    size 100M
}

# System logs with shorter retention
/var/log/syslog
/var/log/daemon.log
/var/log/kern.log {
    daily
    rotate 3
    compress
    delaycompress
    missingok
    notifempty
    
    postrotate
        /bin/kill -HUP `cat /var/run/rsyslogd.pid 2>/dev/null` 2>/dev/null || true
    endscript
}