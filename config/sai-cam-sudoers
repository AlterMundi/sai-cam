# SAI-Cam sudoers configuration
# Allows admin user to manage WiFi AP via NetworkManager without password
# Install to /etc/sudoers.d/sai-cam with permissions 0440

# User admin can manage sai-cam-ap connection
admin ALL=(ALL) NOPASSWD: /usr/bin/nmcli con up sai-cam-ap
admin ALL=(ALL) NOPASSWD: /usr/bin/nmcli con down sai-cam-ap
admin ALL=(ALL) NOPASSWD: /usr/bin/nmcli connection up sai-cam-ap
admin ALL=(ALL) NOPASSWD: /usr/bin/nmcli connection down sai-cam-ap

# Self-update: allow triggering update check and viewing status
admin ALL=(ALL) NOPASSWD: /usr/bin/systemctl start sai-cam-update.service
admin ALL=(ALL) NOPASSWD: /usr/bin/systemctl status sai-cam-update

# Fleet operations: service restart and reboot
admin ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart sai-cam sai-cam-portal
admin ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart sai-cam
admin ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart sai-cam-portal
admin ALL=(ALL) NOPASSWD: /usr/sbin/shutdown -r +1 Fleet reboot
